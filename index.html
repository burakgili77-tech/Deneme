<!DOCTYPE html>
<html lang="tr">
<head>
<link rel="manifest" href="manifest.json">
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ƒ∞sim ≈ûehir Online Pro 2026</title>
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-app-pub-3940256099942544" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    
    <style>
        :root { --neon: #00f2ff; --glass: rgba(12, 28, 48, 0.98); --border: rgba(0, 242, 255, 0.3); --bg: #010816; --win: #00ff88; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; outline: none; touch-action: manipulation; }
        
        body, html { 
            height: 100%; 
            width: 100%; 
            background: var(--bg); 
            color: white; 
            font-family: 'Segoe UI', sans-serif; 
            overflow: hidden; 
            display: flex; 
            flex-direction: column;
            align-items: center;
        }
        
        #app { 
            width: 100%; 
            max-width: 500px; 
            flex: 1;
            margin: 0 auto; 
            background: var(--glass); 
            backdrop-filter: blur(25px); 
            border-left: 1px solid var(--border); 
            border-right: 1px solid var(--border);
            padding: 20px; 
            display: flex; 
            flex-direction: column; 
            position: relative; 
            z-index: 10; 
            box-shadow: 0 0 40px rgba(0,0,0,0.8);
            overflow: hidden;
        }

        .menu-btn { background: rgba(255, 255, 255, 0.08); border: 1px solid var(--border); color: #fff; padding: 14px; border-radius: 18px; font-size: 14px; font-weight: 800; cursor: pointer; margin-bottom: 10px; width: 100%; display: block; text-transform: uppercase; transition: 0.2s; text-align: center; }
        .menu-btn:active { background: var(--neon); color: #000; transform: scale(0.96); }
        .btn-main { background: var(--neon); color: #000 !important; border: none; box-shadow: 0 0 15px rgba(0,242,255,0.4); }
        .btn-back { background: rgba(255,0,85,0.15); color: #ff0055; border: 1px solid #ff0055; margin-top: auto; }
        .logo { font-size: 26px; font-weight: 900; text-align: center; margin-bottom: 20px; text-shadow: 0 0 15px var(--neon); letter-spacing: 2px; }
        .screen { display: flex; flex-direction: column; height: 100%; width: 100%; animation: fadeIn 0.2s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .scroll-v { flex: 1; overflow-y: auto; margin: 5px 0; padding-right: 5px; scrollbar-width: none; }
        .input-box { width: 100%; background: rgba(0,0,0,0.6); border: 1px solid var(--border); padding: 12px; border-radius: 15px; color: white; margin-bottom: 12px; text-align: center; font-size: 16px; }
        .row-item { display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.05); padding: 10px; border-radius: 15px; margin-bottom: 6px; border: 1px solid rgba(255,255,255,0.05); }
        .hidden { display: none !important; }
        
        /* REKLAM ALANLARI */
        .ad-container { width: 100%; min-height: 50px; background: #000; display: flex; justify-content: center; align-items: center; overflow: hidden; }
    </style>
</head>
<body>

<div class="ad-container" id="ad-top">
    <ins class="adsbygoogle"
         style="display:inline-block;width:320px;height:50px"
         data-ad-client="ca-app-pub-3940256099942544"
         data-ad-slot="6300978111"></ins>
</div>

<div id="app">
    <div id="sc-main" class="screen">
        <div style="font-size:30px; text-align:center;">ü¶Å üåç üì¶</div>
        <div class="logo">ƒ∞Sƒ∞M ≈ûEHƒ∞R</div>
        <div class="scroll-v">
            <input type="text" id="p-name" class="input-box" placeholder="ƒ∞Sƒ∞M Gƒ∞R">
            <button id="create-room-btn" class="menu-btn btn-main">ODA KUR</button>
            <button class="menu-btn" id="join-nav-btn">KATIL</button>
            <button class="menu-btn" id="settings-nav-btn">‚öôÔ∏è AYARLAR</button>
        </div>
    </div>

    <div id="sc-game" class="screen hidden">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
            <div id="let" style="font-size:36px; font-weight:900; color:var(--neon);">A</div>
            <div id="timer" style="font-size:24px; font-weight:bold;">60</div>
        </div>
        <div class="scroll-v" id="inputs-area"></div>
        <button id="finish-btn" class="menu-btn btn-main">Bƒ∞TTƒ∞!</button>
    </div>

    <div id="sc-lobby" class="screen hidden">
        <div style="text-align:center;"><small>KOD:</small> <b id="display-code" style="color:var(--neon)">-</b></div>
        <div class="scroll-v" id="lobby-players"></div>
        <button id="start-game-btn" class="menu-btn btn-main">BA≈ûLAT</button>
        <button id="leave-btn" class="menu-btn btn-back">AYRIL</button>
    </div>

    <div id="sc-join" class="screen hidden">
        <h3 style="text-align:center; margin-bottom:20px;">ODAYA KATIL</h3>
        <input type="text" id="join-code" class="input-box" placeholder="ODA KODU">
        <button id="join-room-btn" class="menu-btn btn-main">KATIL</button>
        <button class="menu-btn" id="join-back-btn">GERƒ∞</button>
    </div>
    
    <div id="sc-results" class="screen hidden">
        <h3 style="text-align:center; color:var(--neon);">üèÜ SKORLAR</h3>
        <div class="scroll-v" id="final-ranks"></div>
        <button class="menu-btn btn-main" id="results-back-btn">LOBƒ∞YE D√ñN</button>
    </div>
</div>

<div class="ad-container" id="ad-bottom">
    <ins class="adsbygoogle"
         style="display:inline-block;width:320px;height:50px"
         data-ad-client="ca-app-pub-3940256099942544"
         data-ad-slot="6300978111"></ins>
</div>

<script>
    // Firebase Yapƒ±landƒ±rmasƒ±
    const firebaseConfig = {
        apiKey: "AIzaSyBXIpV169nwxWT8fOYaA7NK5jcqmlw64Yg",
        authDomain: "isimsehironline-af2bd.firebaseapp.com",
        databaseURL: "https://isimsehironline-af2bd-default-rtdb.firebaseio.com",
        projectId: "isimsehironline-af2bd",
        storageBucket: "isimsehironline-af2bd.firebasestorage.app",
        messagingSenderId: "737781646979",
        appId: "1:737781646979:web:c1c8f86d90517d9036fdb6"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // REKLAMLARI BA≈ûLATMA FONKSƒ∞YONU (KRƒ∞Tƒ∞K)
    function loadAds() {
        try {
            (adsbygoogle = window.adsbygoogle || []).push({});
            (adsbygoogle = window.adsbygoogle || []).push({});
            console.log("Reklamlar tetiklendi.");
        } catch (e) {
            console.error("Reklam y√ºkleme hatasƒ±:", e);
        }
    }

    // Sayfa tamamen y√ºklendiƒüinde reklamlarƒ± √ßaƒüƒ±r
    window.onload = loadAds;

    // Basit Navigasyon Mantƒ±ƒüƒ±
    function nav(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.add('hidden'));
        document.getElementById(id).classList.remove('hidden');
    }

    // Buton Dinleyicileri
    document.getElementById('join-nav-btn').onclick = () => nav('sc-join');
    document.getElementById('join-back-btn').onclick = () => nav('sc-main');

    // Oda Kurma (√ñrnek Mantƒ±k)
    document.getElementById('create-room-btn').onclick = function() {
        const name = document.getElementById('p-name').value;
        if(!name) return alert("ƒ∞sim gir!");
        document.getElementById('display-code').innerText = "TEST";
        nav('sc-lobby');
    }

</script>
</body>
</html>
